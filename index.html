<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Evergreens | Sanctuary in Lilburn</title>
    
    <!-- 1. CORE LIBRARIES (Order Matters) -->
    <!-- React Core -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Framer Motion (Stable Global Build) -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Poppins:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <style>
        /* --- GLOBAL STYLES --- */
        :root {
            --evergreen-dark: #0f1c15;
            --evergreen-light: #1a2e1a;
            --text-gold: #d2cbb8;
        }

        body {
            background-color: var(--evergreen-dark);
            color: #e5e7eb;
            font-family: 'Lato', sans-serif;
            overflow-x: hidden;
            margin: 0;
        }

        h1, h2, h3, h4, .font-heading { font-family: 'Poppins', sans-serif; }
        .font-serif { font-family: 'Playfair Display', serif; }

        /* Smooth Scrolling */
        html { scroll-behavior: smooth; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--evergreen-dark); }
        ::-webkit-scrollbar-thumb { background: #2d5a3d; border-radius: 4px; }

        /* Video Overlay */
        .video-overlay {
            position: absolute; inset: 0;
            background: rgba(15, 28, 21, 0.4);
            z-index: 1;
        }

        /* Input Autofill Fix */
        input:-webkit-autofill,
        input:-webkit-autofill:hover, 
        input:-webkit-autofill:focus {
            -webkit-box-shadow: 0 0 0 30px #1a2e1a inset !important;
            -webkit-text-fill-color: white !important;
        }
        
        /* Utilities */
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        evergreen: { 900: '#0f1c15', 800: '#1a2e1a', 700: '#2d5a3d' },
                        taupe: { 500: '#d2cbb8' }
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- SAFE LIBRARY ACCESS ---
        const React = window.React;
        const ReactDOM = window.ReactDOM;
        // Fallback if Motion isn't loaded yet
        const Motion = window.Motion || { motion: { div: 'div', button: 'button', img: 'img', section: 'section' }, useScroll: () => ({ scrollYProgress: { get: () => 0 } }), useTransform: () => 0, AnimatePresence: ({children}) => children };
        const { useState, useEffect, useRef } = React;
        const { motion, useScroll, useTransform, AnimatePresence } = Motion;

        // --- ASSET CONFIGURATION ---
        const ASSETS = {
            logo: "images/logo-white.svg",
            heroVideo: "images/hero-video.mp4",
            brandGraphic: "images/1.png",
            
            // Vision (Portrait)
            vision1: "images/3.png",
            vision2: "images/17.png",
            vision3: "images/27.png",
            vision4: "images/6.png",
            vision5: "images/19.png",
            vision6: "images/21.png",

            // Lifestyle (Portrait)
            lifePool: "images/8.png",
            lifeGym: "images/9.png",
            lifeSocial: "images/5.png",
            lifeTrail: "images/trail.jpeg",
            lifeSchool1: "images/school-1.png",
            lifeSchool2: "images/school-2.png",
            lifeConvenience: "images/4.png",
            lifePorch: "images/18.png",
            lifeOffice: "images/22.png",
            lifeKitchen: "images/29.png",
            lifeEfficiency: "images/25.png",
            lifeFamily: "images/10.png",
            lifeStyle: "images/15.png",
            lifeOpen: "images/20.png",
            lifeModern: "images/12.png",

            // Homes (Renderings)
            homeWillow: "images/home-willow-rendering.jpg",
            homeOak: "images/home-oakwood-exterior.jpg",
            homeMagnolia: "images/home-magnolia-rendering.jpg",
            homeAspen: "images/home-aspen-interior.jpg",
            homeCedar: "images/home-cedar-exterior.jpg",
            homePine: "images/home-pine-interior.jpg"
        };

        // --- ICONS ---
        const Icon = ({ d, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d={d} />
            </svg>
        );
        const Icons = {
            ArrowRight: () => <Icon d="M5 12h14M12 5l7 7-7 7" />,
            Menu: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>,
            Close: () => <Icon d="M18 6L6 18M6 6l12 12" />,
            Check: () => <Icon d="M20 6L9 17l-5-5" />
        };

        // --- COMPONENTS ---

        const Preloader = ({ onComplete }) => {
            const [count, setCount] = useState(0);
            useEffect(() => {
                const timer = setInterval(() => {
                    setCount(prev => {
                        if (prev >= 100) {
                            clearInterval(timer);
                            setTimeout(onComplete, 800);
                            return 100;
                        }
                        return prev + 1;
                    });
                }, 20);
                return () => clearInterval(timer);
            }, []);

            return (
                <motion.div className="fixed inset-0 z-50 bg-evergreen-900 flex flex-col items-center justify-center" exit={{ y: "-100%", transition: { duration: 0.8, ease: "easeInOut" } }}>
                    <h1 className="font-serif text-5xl md:text-8xl text-white mb-4 italic">The Evergreens</h1>
                    <div className="w-64 h-[1px] bg-white/20 relative overflow-hidden">
                        <motion.div className="absolute top-0 left-0 h-full bg-taupe-500" initial={{ width: 0 }} animate={{ width: `${count}%` }} />
                    </div>
                    <p className="mt-4 text-taupe-500 font-mono text-sm">{count}%</p>
                </motion.div>
            );
        };

        const Navbar = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            return (
                <>
                    <nav className={`fixed top-0 w-full z-40 transition-all duration-300 ${scrolled ? 'bg-evergreen-900/90 backdrop-blur-md py-4 border-b border-white/5' : 'py-8'}`}>
                        <div className="container mx-auto flex justify-between items-center px-6">
                            <a href="#" className="w-40 md:w-48"><img src={ASSETS.logo} alt="Logo" className="w-full" /></a>
                            
                            <div className="hidden md:flex gap-8 text-sm uppercase tracking-widest font-medium text-white/80">
                                <a href="#vision" className="hover:text-white transition-colors">Vision</a>
                                <a href="#homes" className="hover:text-white transition-colors">Residences</a>
                                <a href="#lifestyle" className="hover:text-white transition-colors">Lifestyle</a>
                                <a href="#contact" className="text-white border border-white/30 px-6 py-2 rounded-full hover:bg-white hover:text-evergreen-900 transition-all">Inquire</a>
                            </div>

                            <button onClick={() => setIsOpen(true)} className="md:hidden text-white"><Icons.Menu /></button>
                        </div>
                    </nav>

                    <AnimatePresence>
                        {isOpen && (
                            <motion.div initial={{ x: "100%" }} animate={{ x: 0 }} exit={{ x: "100%" }} className="fixed inset-0 z-50 bg-evergreen-800 flex flex-col items-center justify-center gap-8">
                                <button onClick={() => setIsOpen(false)} className="absolute top-8 right-8 text-white"><Icons.Close /></button>
                                {['Vision', 'Homes', 'Lifestyle', 'Contact'].map(item => (
                                    <a key={item} href={`#${item.toLowerCase()}`} onClick={() => setIsOpen(false)} className="text-3xl font-serif text-white">{item}</a>
                                ))}
                            </motion.div>
                        )}
                    </AnimatePresence>
                </>
            );
        };

        const Hero = () => {
            const { scrollY } = useScroll();
            const y = useTransform(scrollY, [0, 500], [0, 150]);
            const opacity = useTransform(scrollY, [0, 400], [1, 0]);

            return (
                <section className="relative h-screen w-full overflow-hidden">
                    <motion.div style={{ y }} className="absolute inset-0">
                        <div className="video-overlay"></div>
                        <video autoPlay loop muted playsInline className="w-full h-full object-cover">
                            <source src={ASSETS.heroVideo} type="video/mp4" />
                        </video>
                    </motion.div>
                    <motion.div style={{ opacity }} className="relative z-10 h-full flex flex-col justify-center items-center text-center px-4">
                        <span className="text-taupe-500 uppercase tracking-[0.3em] text-sm mb-4 block">Lilburn, Georgia</span>
                        <h1 className="font-serif text-5xl md:text-8xl text-white leading-tight mb-6">Nature Was <br/><span className="italic font-light text-taupe-500">Here First.</span></h1>
                        <p className="text-white/80 max-w-lg text-lg font-light">New construction in a mature landscape. Experience the luxury of established nature.</p>
                    </motion.div>
                </section>
            );
        };

        const ScrollingSection = ({ id, title, cards, height = "300vh" }) => {
            const targetRef = useRef(null);
            const { scrollYProgress } = useScroll({ target: targetRef });
            const x = useTransform(scrollYProgress, [0, 1], ["0%", "-85%"]); // Adjust based on content width

            return (
                <section ref={targetRef} id={id} className={`relative bg-evergreen-900 text-taupe-500`} style={{ height }}>
                    <div className="sticky top-0 flex h-screen items-center overflow-hidden">
                        <motion.div style={{ x }} className="flex gap-12 px-12 md:px-24 items-center">
                            
                            {/* Intro Text Block */}
                            <div className="min-w-[80vw] md:min-w-[30vw] flex flex-col justify-center shrink-0 mr-12">
                                <h2 className="font-heading text-5xl md:text-7xl text-white mb-6 leading-tight" dangerouslySetInnerHTML={{__html: title}}></h2>
                                <p className="text-xl text-white/60 font-light leading-relaxed max-w-md">Explore a community designed around nature, not over it.</p>
                            </div>

                            {/* Vertical Cards */}
                            {cards.map((card, i) => (
                                <div key={i} className="flex flex-col shrink-0 w-[85vw] md:w-[45vh] snap-center">
                                    {/* Image Top - Full Visibility */}
                                    <div className="w-full h-[55vh] overflow-hidden rounded-t-lg bg-black relative">
                                        <img src={card.img} alt={card.title} className="w-full h-full object-cover transition-transform duration-1000 hover:scale-105" draggable="false"/>
                                    </div>
                                    
                                    {/* Text Bottom - Dedicated Box */}
                                    <div className="bg-evergreen-800 p-8 rounded-b-lg border-t border-white/5 h-[25vh] flex flex-col justify-center">
                                        <h3 className="font-heading text-2xl text-white mb-3">{card.title}</h3>
                                        <p className="text-white/70 text-sm leading-relaxed">{card.desc}</p>
                                    </div>
                                </div>
                            ))}
                            
                            <div className="min-w-[10vw]"></div>
                        </motion.div>
                    </div>
                </section>
            );
        };

        const HomesGrid = () => {
            const homes = [
                { name: "The Willow", beds: "4", baths: "3.5", price: "From $520s", img: ASSETS.homeWillow, desc: "Open concept living bringing the outdoors in." },
                { name: "The Oakwood", beds: "5", baths: "4", price: "From $580s", img: ASSETS.homeOak, desc: "Grand entryways and hotel-style master suite." },
                { name: "The Magnolia", beds: "3", baths: "2.5", price: "From $490s", img: ASSETS.homeMagnolia, desc: "Perfect rightsizing with uncompromising finish quality." },
                { name: "The Aspen", beds: "4", baths: "3", price: "From $515s", img: ASSETS.homeAspen, desc: "Modern craftsman design with warm textures." },
                { name: "The Cedar", beds: "5", baths: "4.5", price: "From $610s", img: ASSETS.homeCedar, desc: "Our most spacious floorplan featuring dual suites." },
                { name: "The Pine", beds: "3", baths: "3", price: "From $500s", img: ASSETS.homePine, desc: "Cozy yet expansive with dedicated study." },
            ];

            return (
                <section id="homes" className="py-32 px-6 bg-evergreen-800">
                    <div className="container mx-auto">
                        <div className="text-center mb-20">
                            <h2 className="font-heading text-5xl md:text-6xl text-white mb-4">The Collection</h2>
                            <p className="text-white/60">Thoughtfully designed floorplans maximizing natural light.</p>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                            {homes.map((home, i) => (
                                <div key={i} className="group cursor-pointer bg-evergreen-900 rounded-lg overflow-hidden border border-white/5 transition-all hover:-translate-y-2 hover:shadow-2xl">
                                    <div className="h-64 overflow-hidden relative">
                                        <div className="absolute top-4 right-4 bg-black/60 backdrop-blur px-3 py-1 rounded text-xs text-white font-bold z-10 uppercase tracking-wider">{home.price}</div>
                                        <img src={home.img} alt={home.name} className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"/>
                                    </div>
                                    <div className="p-8">
                                        <h3 className="text-2xl font-serif text-white mb-2">{home.name}</h3>
                                        <div className="flex gap-4 text-white/50 text-sm mb-4 font-mono">
                                            <span>{home.beds} Beds</span> • <span>{home.baths} Baths</span>
                                        </div>
                                        <p className="text-white/70 text-sm">{home.desc}</p>
                                        <button className="mt-6 w-full py-3 border border-white/20 rounded text-white text-sm uppercase tracking-widest hover:bg-white hover:text-evergreen-900 transition-colors">View Plan</button>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        };

        const ContactForm = () => {
            const [status, setStatus] = useState('idle');

            const handleSubmit = (e) => {
                e.preventDefault();
                setStatus('submitting');
                setTimeout(() => setStatus('success'), 1500);
            };

            return (
                <section id="contact" className="py-32 px-6 bg-taupe-500 text-evergreen-900">
                    <div className="container mx-auto max-w-4xl">
                        <div className="text-center mb-16">
                            <span className="uppercase tracking-[0.2em] text-sm font-bold mb-4 block">Availability is Limited</span>
                            <h2 className="font-heading text-5xl md:text-6xl mb-6">Claim Your Sanctuary</h2>
                            <p className="text-lg opacity-80">Schedule a private tour of the model home and walk the lots today.</p>
                        </div>

                        {status === 'success' ? (
                            <motion.div initial={{ opacity: 0, scale: 0.9 }} animate={{ opacity: 1, scale: 1 }} className="bg-white p-12 rounded-xl text-center shadow-xl">
                                <div className="flex justify-center mb-4 text-evergreen-700"><Icons.Check /></div>
                                <h3 className="text-3xl font-heading mb-4">Request Received</h3>
                                <p className="opacity-70 mb-6">Our team will be in touch shortly to confirm your appointment.</p>
                                <button onClick={() => setStatus('idle')} className="underline opacity-50 hover:opacity-100 text-sm">Send another request</button>
                            </motion.div>
                        ) : (
                            <form onSubmit={handleSubmit} className="space-y-6">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div className="space-y-2">
                                        <label className="text-sm font-bold uppercase tracking-wider opacity-70">First Name</label>
                                        <input required type="text" className="w-full bg-white/10 border border-evergreen-900/20 p-4 rounded focus:bg-white/30 focus:outline-none focus:border-evergreen-900 transition-all" placeholder="Jane" />
                                    </div>
                                    <div className="space-y-2">
                                        <label className="text-sm font-bold uppercase tracking-wider opacity-70">Last Name</label>
                                        <input required type="text" className="w-full bg-white/10 border border-evergreen-900/20 p-4 rounded focus:bg-white/30 focus:outline-none focus:border-evergreen-900 transition-all" placeholder="Doe" />
                                    </div>
                                </div>
                                <div className="space-y-2">
                                    <label className="text-sm font-bold uppercase tracking-wider opacity-70">Email</label>
                                    <input required type="email" className="w-full bg-white/10 border border-evergreen-900/20 p-4 rounded focus:bg-white/30 focus:outline-none focus:border-evergreen-900 transition-all" placeholder="jane@example.com" />
                                </div>
                                <div className="space-y-2">
                                    <label className="text-sm font-bold uppercase tracking-wider opacity-70">Interest</label>
                                    <div className="relative">
                                        <select className="w-full bg-white/10 border border-evergreen-900/20 p-4 rounded focus:bg-white/30 focus:outline-none appearance-none">
                                            <option>General Inquiry</option>
                                            <option>The Willow Plan</option>
                                            <option>The Oakwood Plan</option>
                                            <option>The Cedar Plan</option>
                                        </select>
                                        <div className="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-50">▼</div>
                                    </div>
                                </div>
                                <button type="submit" disabled={status === 'submitting'} className="w-full bg-evergreen-900 text-white text-lg font-heading py-5 rounded hover:bg-evergreen-800 transition-all shadow-lg mt-8">
                                    {status === 'submitting' ? 'Sending...' : 'Request Appointment'}
                                </button>
                            </form>
                        )}
                    </div>
                </section>
            );
        };

        const Footer = () => (
            <footer className="bg-evergreen-950 text-white/30 py-12 border-t border-white/5 relative overflow-hidden">
                <img src={ASSETS.brandGraphic} alt="" className="absolute top-0 right-0 w-1/3 opacity-5 pointer-events-none" />
                <div className="container mx-auto flex flex-col md:flex-row justify-between items-center px-6 relative z-10">
                    <img src={ASSETS.logo} alt="Logo" className="w-32 opacity-50 mb-6 md:mb-0" />
                    <p className="text-xs tracking-widest uppercase">© 2025 The Evergreens. All Rights Reserved.</p>
                </div>
            </footer>
        );

        // --- MAIN APP ---
        const App = () => {
            const [loading, setLoading] = useState(true);

            const visionCards = [
                { img: ASSETS.vision1, title: "Rooted in Nature", desc: "50-year-old hardwoods remain your closest neighbors." },
                { img: ASSETS.vision2, title: "Modern Sanctuary", desc: "Tucked away in Lilburn, minutes from the city." },
                { img: ASSETS.vision3, title: "Evening Calm", desc: "Peaceful nature with zero commute stress." },
                { img: ASSETS.vision6, title: "Deep Roots", desc: "A landscape growing for decades, ready for your family." },
                { img: ASSETS.vision5, title: "Room to Breathe", desc: "Stop searching for space. Find it here." },
                { img: ASSETS.vision4, title: "Your Legacy", desc: "Homes designed to age as gracefully as the land." }
            ];

            const lifestyleCards = [
                { img: ASSETS.lifeTrail, title: "Nature Trails", desc: "1.79 miles of protected pathways." },
                { img: ASSETS.lifePool, title: "Resort Pool", desc: "Luxury cabanas and zero-entry access." },
                { img: ASSETS.lifeGym, title: "Wellness Center", desc: "Modern fitness with forest views." },
                { img: ASSETS.lifeSocial, title: "Community", desc: "Spacious patios for connection." },
                { img: ASSETS.lifeSchool1, title: "Top Rated Schools", desc: "Excellence in education nearby." },
                { img: ASSETS.lifeSchool2, title: "Academic Future", desc: "Programs designed to foster leaders." },
                { img: ASSETS.lifeConvenience, title: "Connected", desc: "Everything you need within reach." },
                { img: ASSETS.lifePorch, title: "Outdoor Living", desc: "Screened porches for year-round joy." },
                { img: ASSETS.lifeOffice, title: "Work From Home", desc: "Dedicated spaces for productivity." },
                { img: ASSETS.lifeKitchen, title: "Chef's Kitchens", desc: "The heart of the home reimagined." },
                { img: ASSETS.lifeEfficiency, title: "Energy Efficient", desc: "Sustainable design for lower costs." },
                { img: ASSETS.lifeFamily, title: "Family Roots", desc: "A place to grow together." },
                { img: ASSETS.lifeStyle, title: "Timeless Style", desc: "Architecture that endures." },
                { img: ASSETS.lifeOpen, title: "Open Interiors", desc: "Flowing spaces for modern life." },
                { img: ASSETS.lifeModern, title: "Modern Family", desc: "Built for how you live today." }
            ];

            return (
                <div className="bg-evergreen-900 min-h-screen text-white selection:bg-taupe-500 selection:text-evergreen-900">
                    <AnimatePresence>
                        {loading && <Preloader onComplete={() => setLoading(false)} />}
                    </AnimatePresence>

                    {!loading && (
                        <motion.main initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 1 }}>
                            <Navbar />
                            <Hero />
                            <ScrollingSection id="vision" title="The<br/>Vision" cards={visionCards} />
                            <HomesGrid />
                            <ScrollingSection id="lifestyle" title="Life Beyond<br/>The Door" cards={lifestyleCards} height="400vh" />
                            <ContactForm />
                            <Footer />
                        </motion.main>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>